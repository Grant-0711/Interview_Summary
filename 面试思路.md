# 基于实时数仓的基本面试思路

基于实时数仓的项目串讲，首先讲清楚整个pipeline的流程

## 数据采集部分重点讲一下MySql表数据的抓取方式

我的思路是在这部分介绍一个解决方案的成长变更流程

即就是将初期调研阶段选择了三种方式，FlinkCDC，Maxwell和Canal这三种方式。

然后对比一下三种方式，讲讲其利弊，其中CDC突出拿到数据的格式不适合我们的需求，还需要自定义反序列化器

之后对比Canal和Maxwell，最终为何选择Maxwell

之后可以介绍Maxwell里面可能会出现的问题

## 重点介绍DWD层的动态分流（业务数据）

先引入问题的场景，为什么要动态分流，考虑从事实数据和维度数据的角度，然后对比MySql和Hbase，也可以说其他自己熟悉的数据库，解释为什么维度数据存在Hbase

## 然后引入两个优化，旁路缓存和异步IO

这部分要介绍的详细点

# 当然此文档中提到的详细的概念都是自己要准备的充分，不一定都要说，因为面试官不一定喜欢听，要看他的态度，如果他表现的有兴趣可以详细介绍，没有的话例如开始看你的简历，这种情况就要考虑简单收尾了。

## DWM层

这一层介绍下UV,JUMP的实现思路，带出Flink的状态和CEP，如果面试官不排斥多说的话可以开始展开串讲里的flink状态相关知识。

然后说一下订单宽表和支付宽表的实现，介绍下flink的join方式，也可以介绍窗口和水印的概念，基于串讲。

## DWS层

简单介绍下有几张宽表，是基于flinkSql还是union实现的。

## 然后开始我这边的主要个人亮点

说了几张宽表都是存在ck之后就开始介绍ck知识，包括数据结构，由数据结构以及读写方式引出ck的特点。

然后介绍特殊的数据类型，引擎等，高并发，高可用。

最后明确指出自己有整理ck优化，开始自己的表演。这部分基本90%的面试官是不懂的，因为我们的文档是基于最近版ck去调研的，就算面试官有深入了解ck优化，知道新版本特性的概率也很小。

以上部分的话不一定对每个面试官都适用，还看运气，看面试官想听什么。但是按照这套流程下来，一般不会出现没话讲的情况。除非就是面试官打断开始提问，不然的话一整套讲两个小时是没有问题的。

# 再说说我自己对离线的准备

首先声明离线这边不是我准备的重点，但是基本的东西需要自己准备好，记清楚，记不清楚也要知道大概，到时候可以说时间久远有些细节记不清。

集群规模，数据量，kafka速率，任务挂了怎么办这些问题是需要准备的。

然后基本的pipeline自己要清楚，数仓结构要清楚。

## 需要着重准备的是

数仓设计的思路，包括星星模型星座模型的概念，表的设计思路：确定业务，确定粒度...

ADS层指标简单的记三个以上

难的：

事务性事实表的实现思路记忆一个

周期性快照记一个

累积性快照记一个

拉链表记一个

都基于郭老师画的图，面试中有涉及直接画图开始讲思路，即废时间又能讲清楚，对面试官来说，看到你解决问题的思路清晰，方法多样，是一个加分项



以上是我整个面试的一个思路，当然我是以实时为基准来准备的，肯定大家都不能一样

# 另一点要说的是

准备一点基本算法，快排，二叉树等（有精力的话，用到的概率10%左右）

准备一些实际生产的问题解决方法，基于各个优化文档去总结，各种数据倾斜，直接百度搜索例如flink实际生产问题类似的





# 最后，思路仅供参考，不要照搬！

因为面试是大家一起出去面，扎堆的情况很容易遇到，本来大家项目就都一样，如果大家会的都一样，结果就是面的越来越难，谁都进不去